<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>自定义搜索</title>

  <!-- 替换以下链接为你在iconfont官网生成的链接 -->

  <style>

    body {

      font-family: Arial, sans-serif;

      margin: 0;

      padding: 0;

      display: flex;

      justify-content: center;

      align-items: center;

      height: 100vh;

      background-size: cover;

      background-repeat: no-repeat;

      background-position: center center;

      /* 默认背景 */

      background-image: url('https://cn.bing.com/th?id=OHR.CoralSpawn_ZH-CN7174709293_UHD.jpg&rf=LaDigue_1920x1080.jpg');

    }



    #search-container {

      display: flex; /* 使用 Flex 布局 */

      align-items: center; /* 垂直居中对齐 */

    }



    #search-input {

      padding: 10px;

      font-size: 16px;

      border: none;

      border-radius: 5px 0 0 5px;

      width: 200px;

    }



    #search-input::placeholder {

      /* 提示文字的样式 */

      color: #ccc;

    }



    #search-input.error::placeholder {

      /* 错误状态下的提示文字样式 */

      color: red;

    }



    #search-input:focus::placeholder {

      /* 输入框获得焦点时的提示文字样式 */

      color: transparent;

    }



    #search-button {

      padding: 10px;

      cursor: pointer;

      background-color: #4CAF50;

      color: white;

      border: none;

      border-radius: 0 5px 5px 0;

      transition: background-color 0.3s ease;

    }



    #search-button:hover {

      background-color: #45a049;

    }



    #search-engine {

      padding: 10px;

      font-size: 16px;

      border: none;

      /* 添加选择框的CSS样式 */

      border-radius: 5px;

      margin-right: 10px;

    }



    #search-engine option {

      /* 选择框中选项的CSS样式 */

      background-color: #f4f4f4;

      padding: 10px;

      border: none;

    }



    /* 添加右上角按钮的样式 */

    #menu-button {

      position: fixed;

      top: 10px;

      right: 10px;

      padding: 10px;

      font-size: 16px;

      cursor: pointer;

      background-color: #4CAF50;

      color: white;

      border: none;

      border-radius: 5px;

      transition: background-color 0.3s ease;

    }



    #menu-button:hover {

      background-color: #45a049;

    }



    /* 菜单选择框的样式 */

    #menu-options {

      display: none;

      position: fixed;

      top: 40px;

      right: 20px;

      background-color: #f9f9f9;

      box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.1);

      border-radius: 5px;

      padding: 10px;

      z-index: 1;

    }



    #menu-options button {

      display: block;

      width: 100%;

      padding: 8px;

      margin-bottom: 5px;

      background-color: #4CAF50;

      color: white;

      border: none;

      border-radius: 5px;

      cursor: pointer;

      transition: background-color 0.3s ease;

    }



    #menu-options button:hover {

      background-color: #45a049;

    }



    /* 提示信息的样式 */

    #status-message {

      position: fixed;

      top: 0;

      left: 50%;

      transform: translateX(-50%);

      padding: 10px;

      font-size: 16px;

      background-color: rgba(255, 255, 255, 0.8);

      border: 1px solid #ccc;

      border-radius: 0 0 5px 5px;

      display: none;

      z-index: 1;

      width: 100%;

      text-align: center;

    }

  </style>

</head>

<body>



  <div id="search-container">

    <select id="search-engine">

      <option value="https://www.baidu.com/s?wd=">百度</option>

      <option value="https://cn.bing.com/search?q=">必应</option>

    </select>

    <input type="text" id="search-input" placeholder="请输入搜索内容">

    <button id="search-button" onclick="performSearch()">搜索</button>

  </div>



  <!-- 添加右上角按钮 -->

  <button id="menu-button" onclick="toggleMenu()">菜单</button>



  <!-- 菜单选择框 -->

  <div id="menu-options">

    <button onclick="refreshWallpaper()">刷新壁纸</button>
    <button onclick="openCloudDrive()">网盘</button>

  </div>



  <!-- 提示信息 -->

  <div id="status-message"></div>



  <script>

    function handleKeyPress(event) {

      if (event.key === "Enter") {

        performSearch();

      }

    }



    function performSearch() {

      var searchTerm = document.getElementById("search-input").value;



      if (searchTerm.trim() === "") {

        document.getElementById("search-input").classList.add("error");

        return;

      }



      document.getElementById("search-input").classList.remove("error");

      var selectedEngine = document.getElementById("search-engine").value;

      var url = selectedEngine + searchTerm;

      window.location.href = url;

    }



    document.getElementById("search-input").addEventListener("keypress", handleKeyPress);



    // 切换菜单的显示状态

    function toggleMenu() {

      var menuOptions = document.getElementById("menu-options");

      menuOptions.style.display = (menuOptions.style.display === "block") ? "none" : "block";

    }
 

    // 打开网盘的函数
    function openCloudDrive() {
      window.location.href = "https://frp-fan.top:49843/";
}

    // 刷新壁纸的函数

    function refreshWallpaper() {

      // 显示提示信息

      var statusMessage = document.getElementById("status-message");

      statusMessage.innerText = "刷新中...";

      statusMessage.style.backgroundColor = "rgba(255, 255, 255, 0.8)";

      statusMessage.style.display = "block";



      // 通过 JavaScript 获取并设置必应每日图片作为背景

      fetch('https://www.bing.com/HPImageArchive.aspx?format=js&idx=0&n=1&mkt=zh-CN')

        .then(response => response.json())

        .then(data => {

          if (data.images && data.images.length > 0) {

            var imageUrl = 'https://cn.bing.com' + data.images[0].url;

            document.body.style.backgroundImage = 'url(' + imageUrl + ')';

            // 隐藏提示信息

            statusMessage.innerText = "刷新成功";

            statusMessage.style.backgroundColor = "rgba(144, 238, 144, 0.8)";

            setTimeout(function () {

              statusMessage.style.display = "none";

            }, 2000);

          } else {

            // 隐藏提示信息

            statusMessage.innerText = "刷新失败";

            statusMessage.style.backgroundColor = "rgba(255, 99, 71, 0.8)";

            setTimeout(function () {

              statusMessage.style.display = "none";

            }, 2000);

          }

        })

        .catch(error => {

          console.error('获取背景图片时发生错误:', error);

          // 隐藏提示信息

          statusMessage.innerText = "刷新失败";

          statusMessage.style.backgroundColor = "rgba(255, 99, 71, 0.8)";

          setTimeout(function () {

            statusMessage.style.display = "none";

          }, 2000);

        });

    }

  </script>



</body>

</html>

